@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "WindChill";
}

<h1>WindChill Rechner</h1>

<form id="wc-form" onsubmit="event.preventDefault(); calculate();">
    <div class="form-row">
        <label for="temp">Temperatur (°C)</label>
        <input id="temp" type="number" step="0.1" value="0" />
    </div>
    <div class="form-row">
        <label for="wind">Windgeschwindigkeit (km/h)</label>
        <input id="wind" type="number" step="0.1" value="10" />
    </div>
    <button type="submit">Berechnen</button>
</form>

<div id="result" class="result" style="margin-top:12px; display:none;"></div>

<script>
    function calculate() {
        const t = parseFloat(document.getElementById('temp').value);
        const v = parseFloat(document.getElementById('wind').value);
        if (isNaN(t) || isNaN(v)) return;
        // Windchill-Formel Environment Canada (°C, km/h)
        const wc = 13.12 + 0.6215 * t - 11.37 * Math.pow(v, 0.16) + 0.3965 * t * Math.pow(v, 0.16);
        const el = document.getElementById('result');
        el.style.display = 'block';
        el.textContent = `Gefühlte Temperatur: ${wc.toFixed(1)} °C`;
    }
</script>
